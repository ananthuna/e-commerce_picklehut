{"ast":null,"code":"import _slicedToArray from \"/home/ananthu/Desktop/e-commerce-api/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/ananthu/Desktop/e-commerce-api/client/src/components/View/QuantityButton/QuantityBtn.js\";\nimport { Typography } from '@mui/material';\nimport { Box } from '@mui/system';\nimport React, { useContext, useEffect, useState } from 'react';\nimport AddIcon from '@mui/icons-material/Add';\nimport RemoveIcon from '@mui/icons-material/Remove';\nimport { UserContext } from '../../../Context/Context';\nimport axios from 'axios';\nimport { baseUrl } from '../../../url';\nfunction Quantity(_ref) {\n  var item = _ref.item;\n  var _useState = useState(''),\n    _useState2 = _slicedToArray(_useState, 2),\n    numb = _useState2[0],\n    setNumb = _useState2[1];\n  var _useState3 = useState(1),\n    _useState4 = _slicedToArray(_useState3, 2),\n    quant = _useState4[0],\n    setQuant = _useState4[1];\n  var _useContext = useContext(UserContext),\n    setCartitems = _useContext.setCartitems;\n  useEffect(function () {\n    // console.log('hai');\n    var user = localStorage.getItem(\"user\");\n    user = JSON.parse(user);\n    var customConfig = {\n      headers: {\n        'Authorization': \"Bearer \".concat(user.token)\n      }\n    };\n    var data = {\n      quantity: numb\n    };\n    console.log('patch start');\n    axios.patch(\"\".concat(baseUrl, \"/api/cart/cartitems/\").concat(item.itemId), data, customConfig).then(function (res) {\n      setCartitems(res.data);\n      console.log('patch-end');\n      console.log(res.data);\n    }).catch(function (err) {\n      console.log(err);\n    });\n  }, [quant]);\n  return /*#__PURE__*/React.createElement(Box, {\n    sx: {\n      display: 'flex',\n      alignItems: 'center',\n      gap: 1,\n      justifyContent: 'center',\n      mt: '1rem',\n      border: 2,\n      borderColor: '#f5f5f5',\n      width: '7rem',\n      height: '2.5rem'\n      // bgcolor: 'red'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Box, {\n    sx: {\n      // border: ,\n      // borderRadius: '50%'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(AddIcon, {\n    onClick: function onClick() {\n      setNumb('+');\n      setQuant(function (pre) {\n        return pre + 1;\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(Box, {\n    sx: {\n      // border: 1,\n      // borderRadius: 1,\n      width: '2rem'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    align: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 17\n    }\n  }, quant)), /*#__PURE__*/React.createElement(Box, {\n    sx: {\n      // border: 1,\n      // borderRadius: '50%'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }\n  }, quant === 1 ? /*#__PURE__*/React.createElement(RemoveIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 33\n    }\n  }) : /*#__PURE__*/React.createElement(RemoveIcon, {\n    onClick: function onClick() {\n      setNumb('-');\n      setQuant(function (pre) {\n        return pre - 1;\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 52\n    }\n  })));\n}\nexport default Quantity;","map":{"version":3,"names":["Typography","Box","React","useContext","useEffect","useState","AddIcon","RemoveIcon","UserContext","axios","baseUrl","Quantity","item","numb","setNumb","quant","setQuant","setCartitems","user","localStorage","getItem","JSON","parse","customConfig","headers","token","data","quantity","console","log","patch","itemId","then","res","catch","err","display","alignItems","gap","justifyContent","mt","border","borderColor","width","height","pre"],"sources":["/home/ananthu/Desktop/e-commerce-api/client/src/components/View/QuantityButton/QuantityBtn.js"],"sourcesContent":["import { Typography } from '@mui/material'\nimport { Box } from '@mui/system'\nimport React, { useContext, useEffect, useState } from 'react'\nimport AddIcon from '@mui/icons-material/Add';\nimport RemoveIcon from '@mui/icons-material/Remove';\nimport { UserContext } from '../../../Context/Context';\nimport axios from 'axios';\nimport { baseUrl } from '../../../url'\n\nfunction Quantity({ item }) {\n    const [numb, setNumb] = useState('')\n    const [quant, setQuant] = useState(1)\n    const { setCartitems } = useContext(UserContext)\n\n    useEffect(() => {\n        // console.log('hai');\n        let user = localStorage.getItem(\"user\")\n        user = JSON.parse(user)\n        const customConfig = {\n            headers: {\n                'Authorization': `Bearer ${user.token}`\n            }\n        }\n        const data = {\n            quantity: numb\n        }\n        console.log('patch start');\n        axios.patch(`${baseUrl}/api/cart/cartitems/${item.itemId}`, data, customConfig)\n            .then((res) => {\n                setCartitems(res.data)\n                console.log('patch-end');\n                console.log(res.data);\n            }).catch((err) => {\n                console.log(err);\n            })\n    }, [quant])\n    return (\n        <Box sx={{\n            display: 'flex',\n            alignItems: 'center',\n            gap: 1,\n            justifyContent: 'center',\n            mt: '1rem',\n            border: 2,\n            borderColor:'#f5f5f5',\n            width: '7rem',\n            height: '2.5rem',\n            // bgcolor: 'red'\n        }}>\n            <Box sx={{\n                // border: ,\n                // borderRadius: '50%'\n            }}>\n                <AddIcon onClick={() => {\n                    setNumb('+')\n                    setQuant(pre => pre + 1)\n                }} />\n            </Box>\n            <Box sx={{\n                // border: 1,\n                // borderRadius: 1,\n                width: '2rem'\n            }}>\n                <Typography align='center'>{quant}</Typography>\n            </Box>\n            <Box sx={{\n                // border: 1,\n                // borderRadius: '50%'\n            }}>\n                {quant === 1 ? (<RemoveIcon />) : (<RemoveIcon onClick={() => {\n                    setNumb('-')\n                    setQuant(pre => pre - 1)\n                }} />)}\n            </Box>\n        </Box>\n    )\n}\n\nexport default Quantity"],"mappings":";;AAAA,SAASA,UAAU,QAAQ,eAAe;AAC1C,SAASC,GAAG,QAAQ,aAAa;AACjC,OAAOC,KAAK,IAAIC,UAAU,EAAEC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC9D,OAAOC,OAAO,MAAM,yBAAyB;AAC7C,OAAOC,UAAU,MAAM,4BAA4B;AACnD,SAASC,WAAW,QAAQ,0BAA0B;AACtD,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,OAAO,QAAQ,cAAc;AAEtC,SAASC,QAAQ,OAAW;EAAA,IAARC,IAAI,QAAJA,IAAI;EAAA,gBACIP,QAAQ,CAAC,EAAE,CAAC;IAAA;IAA7BQ,IAAI;IAAEC,OAAO;EAAA,iBACMT,QAAQ,CAAC,CAAC,CAAC;IAAA;IAA9BU,KAAK;IAAEC,QAAQ;EAAA,kBACGb,UAAU,CAACK,WAAW,CAAC;IAAxCS,YAAY,eAAZA,YAAY;EAEpBb,SAAS,CAAC,YAAM;IACZ;IACA,IAAIc,IAAI,GAAGC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC;IACvCF,IAAI,GAAGG,IAAI,CAACC,KAAK,CAACJ,IAAI,CAAC;IACvB,IAAMK,YAAY,GAAG;MACjBC,OAAO,EAAE;QACL,eAAe,mBAAYN,IAAI,CAACO,KAAK;MACzC;IACJ,CAAC;IACD,IAAMC,IAAI,GAAG;MACTC,QAAQ,EAAEd;IACd,CAAC;IACDe,OAAO,CAACC,GAAG,CAAC,aAAa,CAAC;IAC1BpB,KAAK,CAACqB,KAAK,WAAIpB,OAAO,iCAAuBE,IAAI,CAACmB,MAAM,GAAIL,IAAI,EAAEH,YAAY,CAAC,CAC1ES,IAAI,CAAC,UAACC,GAAG,EAAK;MACXhB,YAAY,CAACgB,GAAG,CAACP,IAAI,CAAC;MACtBE,OAAO,CAACC,GAAG,CAAC,WAAW,CAAC;MACxBD,OAAO,CAACC,GAAG,CAACI,GAAG,CAACP,IAAI,CAAC;IACzB,CAAC,CAAC,CAACQ,KAAK,CAAC,UAACC,GAAG,EAAK;MACdP,OAAO,CAACC,GAAG,CAACM,GAAG,CAAC;IACpB,CAAC,CAAC;EACV,CAAC,EAAE,CAACpB,KAAK,CAAC,CAAC;EACX,oBACI,oBAAC,GAAG;IAAC,EAAE,EAAE;MACLqB,OAAO,EAAE,MAAM;MACfC,UAAU,EAAE,QAAQ;MACpBC,GAAG,EAAE,CAAC;MACNC,cAAc,EAAE,QAAQ;MACxBC,EAAE,EAAE,MAAM;MACVC,MAAM,EAAE,CAAC;MACTC,WAAW,EAAC,SAAS;MACrBC,KAAK,EAAE,MAAM;MACbC,MAAM,EAAE;MACR;IACJ,CAAE;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACE,oBAAC,GAAG;IAAC,EAAE,EAAE;MACL;MACA;IAAA,CACF;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACE,oBAAC,OAAO;IAAC,OAAO,EAAE,mBAAM;MACpB9B,OAAO,CAAC,GAAG,CAAC;MACZE,QAAQ,CAAC,UAAA6B,GAAG;QAAA,OAAIA,GAAG,GAAG,CAAC;MAAA,EAAC;IAC5B,CAAE;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EAAG,CACH,eACN,oBAAC,GAAG;IAAC,EAAE,EAAE;MACL;MACA;MACAF,KAAK,EAAE;IACX,CAAE;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACE,oBAAC,UAAU;IAAC,KAAK,EAAC,QAAQ;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GAAE5B,KAAK,CAAc,CAC7C,eACN,oBAAC,GAAG;IAAC,EAAE,EAAE;MACL;MACA;IAAA,CACF;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GACGA,KAAK,KAAK,CAAC,gBAAI,oBAAC,UAAU;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EAAG,gBAAK,oBAAC,UAAU;IAAC,OAAO,EAAE,mBAAM;MAC1DD,OAAO,CAAC,GAAG,CAAC;MACZE,QAAQ,CAAC,UAAA6B,GAAG;QAAA,OAAIA,GAAG,GAAG,CAAC;MAAA,EAAC;IAC5B,CAAE;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EAAI,CACJ,CACJ;AAEd;AAEA,eAAelC,QAAQ"},"metadata":{},"sourceType":"module"}